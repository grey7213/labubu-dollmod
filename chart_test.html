<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›¾è¡¨æ˜¾ç¤ºä¿®å¤æµ‹è¯•</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            background: linear-gradient(135deg, #FFE4F1 0%, #E8F4FD 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.06);
        }
        
        h1 {
            color: #FF6B9D;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2rem;
        }
        
        .chart-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: 30px;
            margin-top: 30px;
        }
        
        .chart-item {
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.06);
            border: 2px solid #FF6B9D20;
        }
        
        .chart-title {
            color: #2D3748;
            font-size: 1.2rem;
            margin-bottom: 15px;
            font-weight: 600;
            text-align: center;
        }
        
        .chart-frame {
            width: 100%;
            height: 520px;
            border: none;
            border-radius: 8px;
            background: white;
        }
        
        .status-indicator {
            text-align: center;
            padding: 10px;
            margin-bottom: 20px;
            border-radius: 8px;
            font-weight: 500;
        }
        
        .status-success {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .status-info {
            background: #cce5ff;
            color: #004080;
            border: 1px solid #99d6ff;
        }
        
        .navigation {
            text-align: center;
            margin: 30px 0;
        }
        
        .nav-button {
            display: inline-block;
            background: #FF6B9D;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            text-decoration: none;
            margin: 0 10px;
            font-weight: 500;
            transition: all 0.3s ease;
        }
        
        .nav-button:hover {
            background: #E91E63;
            transform: translateY(-2px);
        }
        
        @media (max-width: 768px) {
            .chart-grid {
                grid-template-columns: 1fr;
            }
            
            .chart-frame {
                height: 400px;
            }
            
            .test-container {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ¨ å›¾è¡¨æ˜¾ç¤ºä¿®å¤æµ‹è¯•é¡µé¢</h1>
        
        <div class="status-indicator status-success">
            âœ… å›¾è¡¨é«˜åº¦å·²æ›´æ–°ï¼š400px â†’ 500pxï¼Œiframeé«˜åº¦ï¼š420px â†’ 520px
        </div>
        
        <div class="status-indicator status-info">
            ğŸ“Š ç°åœ¨æ‰€æœ‰å›¾è¡¨åº”è¯¥å®Œæ•´æ˜¾ç¤ºï¼ŒåŒ…æ‹¬æ ‡é¢˜ã€å›¾ä¾‹å’Œæ‰€æœ‰æ•°æ®å†…å®¹
        </div>
        
        <div class="navigation">
            <a href="http://localhost:5000" class="nav-button">ğŸ  è¿”å›ä¸»é¡µ</a>
            <a href="http://localhost:5000/ppt" class="nav-button">ğŸ“Š PPTç‰ˆæœ¬</a>
        </div>
        
        <div class="chart-grid">
            <div class="chart-item">
                <div class="chart-title">ğŸ“ˆ é”€å”®è¶‹åŠ¿å›¾</div>
                <iframe src="http://localhost:5000/chart/sales" class="chart-frame"></iframe>
            </div>
            
            <div class="chart-item">
                <div class="chart-title">ğŸŒ å…¨çƒåˆ†å¸ƒé¥¼å›¾</div>
                <iframe src="http://localhost:5000/chart/distribution" class="chart-frame"></iframe>
            </div>
            
            <div class="chart-item">
                <div class="chart-title">ğŸ’° ä»·æ ¼èµ°åŠ¿æŸ±çŠ¶å›¾</div>
                <iframe src="http://localhost:5000/chart/price" class="chart-frame"></iframe>
            </div>
            
            <div class="chart-item">
                <div class="chart-title">ğŸ”¥ çƒ­åº¦è¯äº‘</div>
                <iframe src="http://localhost:5000/chart/wordcloud" class="chart-frame"></iframe>
            </div>
            
            <div class="chart-item">
                <div class="chart-title">ğŸ‘¥ ç”¨æˆ·ç”»åƒé›·è¾¾å›¾</div>
                <iframe src="http://localhost:5000/chart/user" class="chart-frame"></iframe>
            </div>
            
            <div class="chart-item">
                <div class="chart-title">ğŸ“Š è½¬åŒ–æ¼æ–—å›¾</div>
                <iframe src="http://localhost:5000/chart/funnel" class="chart-frame"></iframe>
            </div>
            
            <div class="chart-item">
                <div class="chart-title">ğŸ† ç«å“å¯¹æ¯”æ•£ç‚¹å›¾</div>
                <iframe src="http://localhost:5000/chart/competitor" class="chart-frame"></iframe>
            </div>
        </div>
        
        <div style="margin-top: 40px; padding: 20px; background: rgba(255, 107, 157, 0.1); border-radius: 12px; text-align: center;">
            <h3 style="color: #FF6B9D; margin-bottom: 15px;">ğŸ”§ ä¿®å¤è¯´æ˜</h3>
            <ul style="text-align: left; max-width: 600px; margin: 0 auto; color: #4A5568; line-height: 1.6;">
                <li>æ‰€æœ‰å›¾è¡¨é«˜åº¦ä» 400px å¢åŠ åˆ° 500px</li>
                <li>iframeå®¹å™¨é«˜åº¦ä» 420px å¢åŠ åˆ° 520px</li>
                <li>æ·»åŠ äº† min-height ç¡®ä¿æœ€å°æ˜¾ç¤ºé«˜åº¦</li>
                <li>ä¼˜åŒ–äº†æ ‡é¢˜å’Œå›¾ä¾‹çš„ä½ç½®ï¼Œé¿å…è¢«æˆªæ–­</li>
                <li>æ”¹è¿›äº†è¯äº‘çš„å¤§å°å’Œä½ç½®è®¾ç½®</li>
                <li>å¢å¼ºäº†ç§»åŠ¨ç«¯å“åº”å¼é€‚é…</li>
                <li>æ·»åŠ äº† overflow: hidden é˜²æ­¢æ»šåŠ¨æ¡å¹²æ‰°</li>
            </ul>
        </div>
        
        <div class="navigation">
            <p style="color: #4A5568; font-size: 0.9rem;">
                ğŸ’¡ æç¤ºï¼šå¦‚æœå›¾è¡¨ä»ç„¶æ˜¾ç¤ºä¸å…¨ï¼Œè¯·æ£€æŸ¥æµè§ˆå™¨ç¼©æ”¾æ¯”ä¾‹æˆ–å°è¯•åˆ·æ–°é¡µé¢
            </p>
        </div>
    </div>
    
    <script>
        // æ·»åŠ åŠ è½½çŠ¶æ€æ£€æµ‹
        document.addEventListener('DOMContentLoaded', function() {
            const iframes = document.querySelectorAll('.chart-frame');
            let loadedCount = 0;
            
            iframes.forEach((iframe, index) => {
                iframe.addEventListener('load', function() {
                    loadedCount++;
                    console.log(`å›¾è¡¨ ${index + 1} åŠ è½½å®Œæˆ`);
                    
                    if (loadedCount === iframes.length) {
                        console.log('âœ… æ‰€æœ‰å›¾è¡¨åŠ è½½å®Œæˆï¼');
                        
                        // æ·»åŠ æˆåŠŸæŒ‡ç¤ºå™¨
                        const indicator = document.createElement('div');
                        indicator.className = 'status-indicator status-success';
                        indicator.innerHTML = 'âœ… æ‰€æœ‰å›¾è¡¨åŠ è½½å®Œæˆï¼å›¾è¡¨æ˜¾ç¤ºä¿®å¤éªŒè¯æˆåŠŸã€‚';
                        indicator.style.marginTop = '20px';
                        document.querySelector('.test-container').appendChild(indicator);
                    }
                });
                
                iframe.addEventListener('error', function() {
                    console.error(`âŒ å›¾è¡¨ ${index + 1} åŠ è½½å¤±è´¥`);
                    this.style.background = '#ffe6e6';
                    this.style.border = '2px solid #ff6b6b';
                });
            });
            
            // 5ç§’åæ£€æŸ¥åŠ è½½çŠ¶æ€
            setTimeout(() => {
                if (loadedCount < iframes.length) {
                    console.warn(`âš ï¸ ä»…åŠ è½½äº† ${loadedCount}/${iframes.length} ä¸ªå›¾è¡¨`);
                }
            }, 5000);
        });
    </script>
</body>
</html> 