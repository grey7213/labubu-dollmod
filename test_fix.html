<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›¾ç‰‡ä¿®å¤æµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: linear-gradient(135deg, #FFE4F1 0%, #E8F4FD 100%);
        }
        .test-section {
            background: white;
            padding: 20px;
            margin: 20px 0;
            border-radius: 12px;
            box-shadow: 0 4px 16px rgba(0,0,0,0.1);
        }
        .test-image {
            max-width: 300px;
            max-height: 200px;
            margin: 10px;
            border: 2px solid #ccc;
            border-radius: 8px;
        }
        .success { border-color: green; }
        .error { border-color: red; }
        .status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            margin-left: 10px;
        }
        .status.success { background: #d4edda; color: #155724; }
        .status.error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
    <h1>ğŸ”§ å›¾ç‰‡æ˜¾ç¤ºä¿®å¤æµ‹è¯•é¡µé¢</h1>
    
    <div class="test-section">
        <h2>âœ… ä¿®å¤æ•ˆæœéªŒè¯</h2>
        <p>å¦‚æœä½ èƒ½çœ‹åˆ°ä¸‹é¢çš„å›¾ç‰‡å¹¶ä¸”å®ƒä»¬ä¸ä¼šæ¶ˆå¤±ï¼Œè¯´æ˜ä¿®å¤æˆåŠŸï¼</p>
        
        <h3>ğŸ“· æœ¬åœ°å›¾ç‰‡æµ‹è¯•</h3>
        <div>
            <img src="/static/images/labubu2.jpg" alt="Labubu 2" class="test-image" 
                 style="opacity: 1 !important; visibility: visible !important; display: block !important;"
                 onload="this.classList.add('success'); this.nextElementSibling.textContent='âœ… åŠ è½½æˆåŠŸ'; this.nextElementSibling.className='status success';"
                 onerror="this.classList.add('error'); this.nextElementSibling.textContent='âŒ åŠ è½½å¤±è´¥'; this.nextElementSibling.className='status error';">
            <span class="status">åŠ è½½ä¸­...</span>
        </div>
        
        <div>
            <img src="/static/images/labubu4.jpg" alt="Labubu 4" class="test-image"
                 style="opacity: 1 !important; visibility: visible !important; display: block !important;"
                 onload="this.classList.add('success'); this.nextElementSibling.textContent='âœ… åŠ è½½æˆåŠŸ'; this.nextElementSibling.className='status success';"
                 onerror="this.classList.add('error'); this.nextElementSibling.textContent='âŒ åŠ è½½å¤±è´¥'; this.nextElementSibling.className='status error';">
            <span class="status">åŠ è½½ä¸­...</span>
        </div>
    </div>
    
    <div class="test-section">
        <h2>ğŸ” å®æ—¶çŠ¶æ€ç›‘æ§</h2>
        <p>é¡µé¢ä¼šå®æ—¶ç›‘æ§å›¾ç‰‡çŠ¶æ€ï¼Œå¦‚æœå‘ç°å›¾ç‰‡è¢«éšè—ä¼šè‡ªåŠ¨ä¿®å¤ã€‚</p>
        <div id="monitoring-log" style="background: #f8f9fa; padding: 10px; border-radius: 4px; max-height: 200px; overflow-y: auto;">
            <p><strong>ğŸ“Š ç›‘æ§æ—¥å¿—ï¼š</strong></p>
        </div>
    </div>
    
    <div class="test-section">
        <h2>ğŸš€ ä¿®å¤åŠŸèƒ½è¯´æ˜</h2>
        <ul>
            <li>âœ… æ·»åŠ äº†å¼ºåˆ¶çš„CSSè§„åˆ™ (<code>!important</code>) ç¡®ä¿å›¾ç‰‡å§‹ç»ˆå¯è§</li>
            <li>âœ… ä¿®å¤äº†JavaScriptæ‡’åŠ è½½å¯¼è‡´çš„é€æ˜åº¦é—®é¢˜</li>
            <li>âœ… æ·»åŠ äº†å®æ—¶ç›‘æ§å’Œè‡ªåŠ¨ä¿®å¤æœºåˆ¶</li>
            <li>âœ… æ”¹è¿›äº†å›¾ç‰‡åŠ è½½é”™è¯¯å¤„ç†</li>
            <li>âœ… å¢å¼ºäº†å›¾ç‰‡è·¯å¾„å’Œæ–‡ä»¶å­˜åœ¨æ€§éªŒè¯</li>
        </ul>
    </div>
    
    <p style="text-align: center; margin-top: 40px;">
        <a href="/" style="background: #FF6B9D; color: white; padding: 12px 24px; text-decoration: none; border-radius: 8px; font-weight: bold;">
            ğŸ  è¿”å›ä¸»é¡µé¢æµ‹è¯•
        </a>
    </p>
    
    <script>
        const log = document.getElementById('monitoring-log');
        
        function addLog(message) {
            const time = new Date().toLocaleTimeString();
            const p = document.createElement('p');
            p.innerHTML = `<span style="color: #666;">[${time}]</span> ${message}`;
            log.appendChild(p);
            log.scrollTop = log.scrollHeight;
        }
        
        // ç›‘æ§å‡½æ•°
        function monitorImages() {
            const images = document.querySelectorAll('img');
            let visibleCount = 0;
            let hiddenCount = 0;
            
            images.forEach((img, index) => {
                const computedStyle = window.getComputedStyle(img);
                const isVisible = computedStyle.opacity !== '0' && 
                                computedStyle.visibility !== 'hidden' && 
                                computedStyle.display !== 'none';
                
                if (isVisible) {
                    visibleCount++;
                } else {
                    hiddenCount++;
                    // è‡ªåŠ¨ä¿®å¤éšè—çš„å›¾ç‰‡
                    img.style.opacity = '1';
                    img.style.visibility = 'visible';
                    img.style.display = 'block';
                    addLog(`ğŸ”§ ä¿®å¤éšè—å›¾ç‰‡: ${img.src}`);
                }
            });
            
            if (hiddenCount === 0) {
                addLog(`âœ… æ‰€æœ‰å›¾ç‰‡æ­£å¸¸æ˜¾ç¤º (${visibleCount}å¼ )`);
            }
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåå¼€å§‹ç›‘æ§
        document.addEventListener('DOMContentLoaded', function() {
            addLog('ğŸ¨ å¼€å§‹ç›‘æ§å›¾ç‰‡æ˜¾ç¤ºçŠ¶æ€...');
            
            // ç«‹å³æ£€æŸ¥ä¸€æ¬¡
            setTimeout(monitorImages, 1000);
            
            // æ¯3ç§’æ£€æŸ¥ä¸€æ¬¡
            setInterval(monitorImages, 3000);
            
            // ç›‘å¬å›¾ç‰‡åŠ è½½äº‹ä»¶
            document.querySelectorAll('img').forEach((img, index) => {
                img.addEventListener('load', () => {
                    addLog(`ğŸ“· å›¾ç‰‡ ${index + 1} åŠ è½½å®Œæˆ`);
                });
                
                img.addEventListener('error', () => {
                    addLog(`âŒ å›¾ç‰‡ ${index + 1} åŠ è½½å¤±è´¥`);
                });
            });
        });
    </script>
</body>
</html> 