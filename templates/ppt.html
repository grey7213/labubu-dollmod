<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ³¡æ³¡ç›ç‰¹ Labubu æ•°æ®æ´å¯Ÿ - PPTç‰ˆ</title>
    
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    
    <!-- Styles -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    
    <style>
        /* PPTä¸“ç”¨æ ·å¼ä¼˜åŒ– */
        body {
            zoom: 0.9; /* é€‚åº”PPTæ˜¾ç¤º */
            overflow-x: hidden;
        }
        
        header {
            padding: 20px;
            background: linear-gradient(135deg, #FF6B9D 0%, #4A90E2 100%);
        }
        
        header h1 {
            font-size: 2.5rem;
            color: white;
            background: none;
            -webkit-text-fill-color: white;
        }
        
        .hero {
            height: 300px;
        }
        
        .stats-grid {
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
            margin: 24px 0;
        }
        
        .stat-card {
            padding: 16px;
        }
        
        .stat-number {
            font-size: 2rem;
        }
        
        .gallery {
            grid-template-columns: repeat(3, 1fr);
            gap: 16px;
        }
        
        .container {
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            padding: 20px;
        }
        
        .chart {
            padding: 20px;
        }
        
        iframe {
            height: 350px;
        }
        
        .gallery-container {
            padding: 20px;
        }
        
        .global-insight {
            margin-top: 24px;
            padding: 20px;
            background: rgba(255, 107, 157, 0.05);
            border-radius: 12px;
            border-left: 4px solid var(--primary);
        }
        
        footer {
            padding: 16px;
            font-size: 0.8rem;
        }
    </style>
</head>

<body>
    <!-- ç®€åŒ–ç‰ˆHeader -->
    <header>
        <h1>ğŸ­ æ³¡æ³¡ç›ç‰¹ Labubu æ•°æ®æ´å¯Ÿ</h1>
    </header>

    <!-- Hero Section -->
    <section class="hero">
        {% if hero_image %}
            <img src="{{ url_for('static', filename=hero_image) }}" 
                 alt="Labubu - æ³¡æ³¡ç›ç‰¹æ˜æ˜ŸIP" 
                 loading="eager">
        {% endif %}
        <div class="hero-text">Labubu Magic âœ¨</div>
    </section>

    <!-- æ ¸å¿ƒæ•°æ®ç»Ÿè®¡ -->
    <section class="gallery-container">
        <h2>ğŸ“Š æ ¸å¿ƒæ•°æ®</h2>
        
        <div class="stats-grid">
            <div class="stat-card">
                <span class="stat-number" data-target="3100">0</span>
                <div class="stat-label">å¸‚å€¼ (äº¿æ¸¯å…ƒ)</div>
            </div>
            
            <div class="stat-card">
                <span class="stat-number" data-target="440">0</span>
                <div class="stat-label">æµ·å¤–å¢é•¿ç‡ (%)</div>
            </div>
            
            <div class="stat-card">
                <span class="stat-number" data-target="30">0</span>
                <div class="stat-label">æ‹‰å¸ƒå¸ƒé”€å”®é¢ (äº¿å…ƒ)</div>
            </div>
        </div>

        <!-- äº§å“å±•ç¤º -->
        <h2>ğŸ¨ äº§å“ç³»åˆ—</h2>
        <div class="gallery">
            {% for img in gallery_images %}
            <div class="gallery-item">
                <img src="{{ url_for('static', filename=img) }}" 
                     alt="Labubu Collection" 
                     loading="lazy"
                     onerror="this.onerror=null;this.src='https://images.unsplash.com/photo-1558618066-fcd25c85cd64?auto=format&fit=crop&w=400&q=80';">
            </div>
            {% endfor %}
        </div>
        
        <!-- å…³é”®æ´å¯Ÿ -->
        <div class="global-insight">
            <h3 style="color: var(--primary); margin-bottom: 12px; font-size: 1.1rem;">ğŸŒ å…³é”®æ´å¯Ÿ</h3>
            <p style="color: var(--text-secondary); line-height: 1.6; margin: 0; font-size: 0.9rem;">
                <strong>å…¨çƒç°è±¡ï¼š</strong>æ³°å›½Lisaå¸¦è´§çˆ†ç«ï¼Œè•¾å“ˆå¨œç­‰å›½é™…æ˜æ˜Ÿè‡ªå‘ä»£è¨€ï¼Œ2024å¹´é”€å”®é¢å¢é•¿7å€ï¼Œæˆä¸ºZä¸–ä»£æ–‡åŒ–ç¬¦å·ã€‚
            </p>
        </div>
    </section>

    <!-- æ•°æ®å¯è§†åŒ– -->
    <section class="container">
        <article class="chart">
            <h3 style="margin-bottom: 16px; color: var(--text-primary); font-size: 1rem; font-weight: 600;">
                ğŸ“ˆ é”€å”®è¶‹åŠ¿
            </h3>
            {{ sales_trend|safe }}
        </article>
        
        <article class="chart">
            <h3 style="margin-bottom: 16px; color: var(--text-primary); font-size: 1rem; font-weight: 600;">
                ğŸŒ å¸‚åœºåˆ†å¸ƒ
            </h3>
            {{ channel_distribution|safe }}
        </article>
        
        <article class="chart">
            <h3 style="margin-bottom: 16px; color: var(--text-primary); font-size: 1rem; font-weight: 600;">
                ğŸ’° ä»·æ ¼åˆ†æ
            </h3>
            {{ price_bar|safe }}
        </article>
        
        <article class="chart">
            <h3 style="margin-bottom: 16px; color: var(--text-primary); font-size: 1rem; font-weight: 600;">
                ğŸ”¥ çƒ­åº¦è¯äº‘
            </h3>
            {{ wordcloud|safe }}
        </article>
        
        <article class="chart">
            <h3 style="margin-bottom: 16px; color: var(--text-primary); font-size: 1rem; font-weight: 600;">
                ğŸ‘¥ ç”¨æˆ·ç”»åƒ
            </h3>
            {{ user_profile|safe }}
        </article>
        
        <article class="chart">
            <h3 style="margin-bottom: 16px; color: var(--text-primary); font-size: 1rem; font-weight: 600;">
                ğŸ“Š è½¬åŒ–æ¼æ–—
            </h3>
            {{ revenue_funnel|safe }}
        </article>
    </section>

    <!-- ç®€åŒ–ç‰ˆFooter -->
    <footer>
        <p>ğŸ¯ æ³¡æ³¡ç›ç‰¹ (09992.HK) | æ•°æ®æ¥æºï¼šå®˜æ–¹è´¢æŠ¥ | Â© 2024 POP MART Analytics</p>
    </footer>

    <!-- Scripts -->
    <script>
        // PPTä¼˜åŒ–çš„åŠ¨ç”»
        function animateCounters() {
            const counters = document.querySelectorAll('.stat-number');
            
            counters.forEach(counter => {
                const target = +counter.getAttribute('data-target');
                const duration = 1500; // åŠ å¿«åŠ¨ç”»é€Ÿåº¦
                const start = performance.now();
                
                function updateCounter(currentTime) {
                    const elapsed = currentTime - start;
                    const progress = Math.min(elapsed / duration, 1);
                    const easeOutQuart = 1 - Math.pow(1 - progress, 4);
                    const current = Math.floor(target * easeOutQuart);
                    
                    counter.textContent = current.toLocaleString();
                    
                    if (progress < 1) {
                        requestAnimationFrame(updateCounter);
                    } else {
                        counter.textContent = target.toLocaleString();
                    }
                }
                
                requestAnimationFrame(updateCounter);
            });
        }
        
        // é¡µé¢åŠ è½½å®Œæˆåç«‹å³æ‰§è¡Œ
        document.addEventListener('DOMContentLoaded', function() {
            setTimeout(animateCounters, 300);
            
            // é¡µé¢æ·¡å…¥æ•ˆæœ
            document.body.style.opacity = '0';
            requestAnimationFrame(() => {
                document.body.style.transition = 'opacity 0.5s ease-in';
                document.body.style.opacity = '1';
            });
        });
    </script>
</body>
</html> 